<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Event</title>
</head>
<body>

<h2>Add New Event</h2>

<form th:action="@{/events/add}" th:object="${eventDto}" method="post">
    <label>Name: <input type="text" th:field="*{name}" /></label><br>
    <label>Date: <input type="date" th:field="*{eventDate}" /></label><br>

    <h3>Place</h3>
    <label>Place Name: <input type="text" th:field="*{place.name}" /></label><br>
    <label>Place Address: <input type="text" th:field="*{place.address}" /></label><br>

    <h3>Ticket Packs</h3>
    <div th:each="pack, iterStat : *{ticketPacks}">
        <label>Cost: <input type="number" step="0.01" th:field="*{ticketPacks[__${iterStat.index}__].cost}" /></label>
        <label>Count: <input type="number" th:field="*{ticketPacks[__${iterStat.index}__].count}" /></label>
        <br>
    </div>

    <button type="submit">Add Event</button>
</form>

<a href="/">‚Üê Back to Home</a>

<p style="position: fixed; top: 10px; right: 10px; font-size: 24px; color: darkblue;">
    Logged in as: <span th:text="${#authentication.name}">user</span>
</p>
</body>
</html>
